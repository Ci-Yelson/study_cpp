### [Xmake](https://xmake.io/#/zh-cn/getting_started)

- 编译：xmake
- 运行：xmake run

---

### 内存管理机制

| 特性 | Windows | Linux |
|--------------------|----------------------------|-----------------------|
| 虚拟内存分配 | 严格预留+提交机制 | Overcommit允许超额分配 |
| 页面交换策略 | 基于工作集的LRU算法 | 更积极的页面换出 |
| 内存不足处理 | 直接分配失败 | OOM Killer终止进程 |
| 性能特征 | 提交内存需要预留磁盘空间 | 虚拟地址空间分配更快 |

---

### 虚拟内存分配机制

| 特性 | Windows | Linux |
|---------------------|----------------------------------|--------------------------------|
| 分配策略 | 严格预分配（需立即提交） | 乐观分配（允许超额承诺） |
| 物理内存管理 | 工作集管理器主动调整 | OOM Killer被动介入 |
| 页面交换 | 固定页面文件（pagefile.sys） | 动态交换分区/文件 |
| OOM处理 | 直接返回分配失败 | 触发OOM Killer终止进程 |
| 性能特征 | 提交操作开销较大 | 虚拟地址分配极快 |

### 代码现象

- Windows：new 和 malloc 申请的内存大小如果超过 pagefile.sys 大小，会直接Down掉。
- Linux：new 和 malloc 申请的内存大小无限制。